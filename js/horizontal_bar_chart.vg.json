{
    "$schema"   : "https://vega.github.io/schema/vega-lite/v5.json",
    "width"     : 800,
    "height"    : 500,
    "background": null,
    "title"     : "Top 10 Content Creators",
    "data"      : {"url": "https://raw.githubusercontent.com/selinalaii/FIT3179/main/data/youtube.csv"},

    "transform": [{"window": [{"field": "subscribers", "op": "rank", "as": "rank"}],
                  "sort":[{"field": "subscribers", "order": "descending"}]},
                  {"filter": "datum.rank <= 10"}],
                  
    "mark": "bar",
    "encoding": {"y": {"field": "Youtuber", "sort": "-x"},
                "x": {"field": "subscribers", "aggregate": "max", "type": "quantitative", "scale": {"domain": [0, 250000000]}},
                "tooltip": [{"field": "Youtuber", "type": "nominal", "title": "Youtuber"},
                            {"field": "subscribers", "type": "quantitative", "title": "Subscribers", "format": ","}]}}